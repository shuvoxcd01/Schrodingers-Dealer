<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Schrodinger's Dealer</title>

    <!-- Preload card images -->
    <link rel="preload" href="https://deckofcardsapi.com/static/img/AS.png" as="image">
    <link rel="preload" href="https://deckofcardsapi.com/static/img/2H.png" as="image">
    <link rel="preload" href="https://deckofcardsapi.com/static/img/3H.png" as="image">
    <link rel="preload" href="https://deckofcardsapi.com/static/img/4H.png" as="image">
    <link rel="preload" href="https://deckofcardsapi.com/static/img/5H.png" as="image">
    <link rel="preload" href="https://deckofcardsapi.com/static/img/6H.png" as="image">
    <link rel="preload" href="https://deckofcardsapi.com/static/img/7H.png" as="image">
    <link rel="preload" href="https://deckofcardsapi.com/static/img/8H.png" as="image">
    <link rel="preload" href="https://deckofcardsapi.com/static/img/9H.png" as="image">
    <link rel="preload" href="https://deckofcardsapi.com/static/img/10H.png" as="image">
    <link rel="preload" href="https://deckofcardsapi.com/static/img/JH.png" as="image">
    <link rel="preload" href="https://deckofcardsapi.com/static/img/QH.png" as="image">
    <link rel="preload" href="https://deckofcardsapi.com/static/img/KH.png" as="image">
    <link rel="preload" href="https://deckofcardsapi.com/static/img/AH.png" as="image">
    <link rel="preload" href="https://deckofcardsapi.com/static/img/2D.png" as="image">
    <link rel="preload" href="https://deckofcardsapi.com/static/img/3D.png" as="image">
    <link rel="preload" href="https://deckofcardsapi.com/static/img/4D.png" as="image">
    <link rel="preload" href="https://deckofcardsapi.com/static/img/5D.png" as="image">
    <link rel="preload" href="https://deckofcardsapi.com/static/img/6D.png" as="image">
    <link rel="preload" href="https://deckofcardsapi.com/static/img/7D.png" as="image">
    <link rel="preload" href="https://deckofcardsapi.com/static/img/8D.png" as="image">
    <link rel="preload" href="https://deckofcardsapi.com/static/img/9D.png" as="image">
    <link rel="preload" href="https://deckofcardsapi.com/static/img/10D.png" as="image">
    <link rel="preload" href="https://deckofcardsapi.com/static/img/JD.png" as="image">
    <link rel="preload" href="https://deckofcardsapi.com/static/img/QD.png" as="image">
    <link rel="preload" href="https://deckofcardsapi.com/static/img/KD.png" as="image">
    <link rel="preload" href="https://deckofcardsapi.com/static/img/AD.png" as="image">
    <link rel="preload" href="https://deckofcardsapi.com/static/img/2C.png" as="image">
    <link rel="preload" href="https://deckofcardsapi.com/static/img/3C.png" as="image">
    <link rel="preload" href="https://deckofcardsapi.com/static/img/4C.png" as="image">
    <link rel="preload" href="https://deckofcardsapi.com/static/img/5C.png" as="image">
    <link rel="preload" href="https://deckofcardsapi.com/static/img/6C.png" as="image">
    <link rel="preload" href="https://deckofcardsapi.com/static/img/7C.png" as="image">
    <link rel="preload" href="https://deckofcardsapi.com/static/img/8C.png" as="image">
    <link rel="preload" href="https://deckofcardsapi.com/static/img/9C.png" as="image">
    <link rel="preload" href="https://deckofcardsapi.com/static/img/10C.png" as="image">
    <link rel="preload" href="https://deckofcardsapi.com/static/img/JC.png" as="image">
    <link rel="preload" href="https://deckofcardsapi.com/static/img/QC.png" as="image">
    <link rel="preload" href="https://deckofcardsapi.com/static/img/KC.png" as="image">
    <link rel="preload" href="https://deckofcardsapi.com/static/img/AC.png" as="image">
    <link rel="preload" href="https://deckofcardsapi.com/static/img/2S.png" as="image">
    <link rel="preload" href="https://deckofcardsapi.com/static/img/3S.png" as="image">
    <link rel="preload" href="https://deckofcardsapi.com/static/img/4S.png" as="image">
    <link rel="preload" href="https://deckofcardsapi.com/static/img/5S.png" as="image">
    <link rel="preload" href="https://deckofcardsapi.com/static/img/6S.png" as="image">
    <link rel="preload" href="https://deckofcardsapi.com/static/img/7S.png" as="image">
    <link rel="preload" href="https://deckofcardsapi.com/static/img/8S.png" as="image">
    <link rel="preload" href="https://deckofcardsapi.com/static/img/9S.png" as="image">
    <link rel="preload" href="https://deckofcardsapi.com/static/img/10S.png" as="image">
    <link rel="preload" href="https://deckofcardsapi.com/static/img/JS.png" as="image">
    <link rel="preload" href="https://deckofcardsapi.com/static/img/QS.png" as="image">
    <link rel="preload" href="https://deckofcardsapi.com/static/img/KS.png" as="image">
    <link rel="preload" href="https://deckofcardsapi.com/static/img/AS.png" as="image">

    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            margin-top: 20px;
            background-color: #f9f6e7; /* Off-whitish/yellowish background */
            padding: 20px;
        }
        #title {
            font-size: 36px;
            margin-bottom: 20px;
        }
        #card-image {
            width: 150px;
            height: 220px;
            border: 2px solid #333;
            display: inline-block;
            margin-right: 20px; /* Adjusting position of card */
        }
        #card-name, #number-box, #string-box, #reward-box, #episode-box {
            font-size: 24px;
            margin-top: 10px;
        }
        .images-container {
            margin-top: 20px;
            display: flex;
            justify-content: center;
        }
        .image-box {
            margin: 0 20px; /* Add space between images */
        }
        .image-box img {
            width: 600px;  /* Increased width for images */
            height: 300px; /* Increased height for images */
            border: 2px solid black;
        }
    </style>
</head>
<body>

    <div id="title">Schrodinger's Dealer</div>
    <div style="display: flex; align-items: flex-start; justify-content: center;">
        <div id="card-image">
            <img id="card-img" src="" alt="Card" width="150px" height="220px">
        </div>
        <div>
            <div id="card-name">Dealer Face Card: </div>
            <div id="number-box">User's Total: </div>
            <div id="string-box">Action: </div>
            <div id="reward-box">Reward: </div> <!-- New field -->
            <div id="episode-box">Episode No.: </div> <!-- New field -->
        </div>
    </div>

    <div class="images-container">
        <div class="image-box">
            <img id="image1" src="" alt="Image 1">
        </div>
        <div class="image-box">
            <img id="image2" src="" alt="Image 2">
        </div>
    </div>

    <script>
        function updateData() {
            fetch('/data')
                .then(response => {
                    if (!response.ok) {
                        throw new Error('Network response was not ok');
                    }
                    return response.json();
                })
                .then(data => {
                    // Update card image
                    document.getElementById('card-img').src = `https://deckofcardsapi.com/static/img/${data.card}.png`;

                    // Update number and string boxes
                    document.getElementById('card-name').textContent = `Dealer Face Card: ${data.card}`;
                    document.getElementById('number-box').textContent = `User's Total: ${data.total}`;
                    document.getElementById('string-box').textContent = `Action: ${data.action}`;
                    document.getElementById('reward-box').textContent = `Reward: ${data.reward}`; // New field
                    document.getElementById('episode-box').textContent = `Episode No.: ${data.episode_no}`; // New field

                    // Update the images instead of matrices
                    document.getElementById('image1').src = data.image1; // Ensure the backend provides image URLs
                    document.getElementById('image2').src = data.image2;

                    // Force the browser to refresh the image by appending a timestamp
                    document.getElementById('image1').src = `${data.image1}?t=${new Date().getTime()}`;
                    document.getElementById('image2').src = `${data.image2}?t=${new Date().getTime()}`;
                })
                .catch(error => {
                    console.error('Error fetching data:', error);
                });
        }

        // Update data every second
        setInterval(updateData, 1000);
    </script>


<footer style="margin-top: 20px; text-align: center; font-size: 14px; color: #777;">
    <p style="margin: 5px 0;">Author: Falguni Das Shuvo</p>
    <a href="https://github.com/shuvoxcd01/Schrodingers-Dealer.git" target="_blank" style="margin-right: 15px;">
        <img src="https://img.icons8.com/ios-filled/50/000000/github.png" alt="GitHub" style="vertical-align: middle; width: 20px; height: 20px;"/>
    </a>
    <a href="https://twitter.com/shuvoxcd01" target="_blank">
        <img src="https://img.icons8.com/ios-filled/50/000000/twitter.png" alt="Twitter" style="vertical-align: middle; width: 20px; height: 20px;"/>
    </a>
</footer>


</body>
</html>
